!function(e){var n={};function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=n,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)r.d(t,o,function(n){return e[n]}.bind(null,o));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="",r(r.s=4)}([function(e,n,r){"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var r=function(e,n){var r=e[1]||"",t=e[3];if(!t)return r;if(n&&"function"==typeof btoa){var o=(i=t,A=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(A),"/*# ".concat(c," */")),a=t.sources.map((function(e){return"/*# sourceURL=".concat(t.sourceRoot||"").concat(e," */")}));return[r].concat(a).concat([o]).join("\n")}var i,A,c;return[r].join("\n")}(n,e);return n[2]?"@media ".concat(n[2]," {").concat(r,"}"):r})).join("")},n.i=function(e,r,t){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(t)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(o[i]=!0)}for(var A=0;A<e.length;A++){var c=[].concat(e[A]);t&&o[c[0]]||(r&&(c[2]?c[2]="".concat(r," and ").concat(c[2]):c[2]=r),n.push(c))}},n}},function(e,n,r){var t=r(2),o=r(3);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1};t(o,a);e.exports=o.locals||{}},function(e,n,r){"use strict";var t,o=function(){return void 0===t&&(t=Boolean(window&&document&&document.all&&!window.atob)),t},a=function(){var e={};return function(n){if(void 0===e[n]){var r=document.querySelector(n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[n]=r}return e[n]}}(),i=[];function A(e){for(var n=-1,r=0;r<i.length;r++)if(i[r].identifier===e){n=r;break}return n}function c(e,n){for(var r={},t=[],o=0;o<e.length;o++){var a=e[o],c=n.base?a[0]+n.base:a[0],s=r[c]||0,d="".concat(c," ").concat(s);r[c]=s+1;var l=A(d),u={css:a[1],media:a[2],sourceMap:a[3]};-1!==l?(i[l].references++,i[l].updater(u)):i.push({identifier:d,updater:p(u,n),references:1}),t.push(d)}return t}function s(e){var n=document.createElement("style"),t=e.attributes||{};if(void 0===t.nonce){var o=r.nc;o&&(t.nonce=o)}if(Object.keys(t).forEach((function(e){n.setAttribute(e,t[e])})),"function"==typeof e.insert)e.insert(n);else{var i=a(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}return n}var d,l=(d=[],function(e,n){return d[e]=n,d.filter(Boolean).join("\n")});function u(e,n,r,t){var o=r?"":t.media?"@media ".concat(t.media," {").concat(t.css,"}"):t.css;if(e.styleSheet)e.styleSheet.cssText=l(n,o);else{var a=document.createTextNode(o),i=e.childNodes;i[n]&&e.removeChild(i[n]),i.length?e.insertBefore(a,i[n]):e.appendChild(a)}}function f(e,n,r){var t=r.css,o=r.media,a=r.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),a&&btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}var m=null,g=0;function p(e,n){var r,t,o;if(n.singleton){var a=g++;r=m||(m=s(n)),t=u.bind(null,r,a,!1),o=u.bind(null,r,a,!0)}else r=s(n),t=f.bind(null,r,n),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return t(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;t(e=n)}else o()}}e.exports=function(e,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=o());var r=c(e=e||[],n);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var t=0;t<r.length;t++){var o=A(r[t]);i[o].references--}for(var a=c(e,n),s=0;s<r.length;s++){var d=A(r[s]);0===i[d].references&&(i[d].updater(),i.splice(d,1))}r=a}}}},function(e,n,r){"use strict";r.r(n);var t=r(0),o=r.n(t)()(!0);o.push([e.i,'body{font-family:"Quicksand",sans-serif !important}.hidden{display:none}h1{padding-top:5vh;margin-bottom:5vh;text-align:center;font-weight:500;font-size:4rem;color:#9dbbf8;font-family:"Quicksand",sans-serif}h2{font-size:1.2rem}.buttons-game{margin:2vh auto;display:flex;justify-content:space-around}.button-custom{padding:1.5vh;width:25%;border-radius:8px;border:2px solid #9dbbf8a4;color:#6890e0;background-color:transparent;cursor:pointer}.button-custom:hover{color:#fff;border-color:#6890e0;background-color:#9dbbf8}.button-custom:focus{outline:none}.container{width:fit-content;height:fit-content;margin:auto}.board{width:fit-content;height:fit-content;margin:auto;padding:5vh;display:flex;align-items:center;flex-direction:column;border-radius:25px;background-color:#dfe9fd;color:#6890e0;box-shadow:6px 8px 14px 1px #9ca7b9ab}.game-status{margin-bottom:2vh;width:100%;display:flex;justify-content:space-between}.player-turn{margin-bottom:5vh}.cover-gameboard{position:absolute;z-index:2;width:380px;height:380px;display:flex;justify-content:center;align-items:center;background-color:rgba(59,93,145,.507)}.cover-gameboard p{text-align:center;font-size:1.3rem;line-height:1.8rem;color:#f7f7f7}.gameboard{display:grid;grid-template-columns:repeat(3, 1fr);grid-template-rows:repeat(3, 1fr);grid-gap:10px;background-image:linear-gradient(#9dbbf8, #b5c5da)}.gameboard .board-cell{height:120px;width:120px;background-color:#dfe9fd;cursor:pointer}.gameboard .board-cell:hover{background-color:#cad9f8}',"",{version:3,sources:["webpack://src/assets/stylesheets/style.scss"],names:[],mappings:"AAAA,KACE,6CAAA,CAGF,QACE,YAAA,CAGF,GACE,eAAA,CACA,iBAAA,CACA,iBAAA,CACA,eAAA,CACA,cAAA,CACA,aAAA,CACA,kCAAA,CAGF,GACE,gBAAA,CAGF,cACE,eAAA,CACA,YAAA,CACA,4BAAA,CAGF,eACE,aAAA,CACA,SAAA,CACA,iBAAA,CACA,0BAAA,CACA,aAAA,CACA,4BAAA,CACA,cAAA,CAEA,qBACE,UAAA,CACA,oBAAA,CACA,wBAAA,CAGF,qBACE,YAAA,CAIJ,WACE,iBAAA,CACA,kBAAA,CACA,WAAA,CAGF,OACE,iBAAA,CACA,kBAAA,CACA,WAAA,CACA,WAAA,CACA,YAAA,CACA,kBAAA,CACA,qBAAA,CACA,kBAAA,CACA,wBAAA,CACA,aAAA,CACA,qCAAA,CAGF,aACE,iBAAA,CACA,UAAA,CACA,YAAA,CACA,6BAAA,CAGF,aACE,iBAAA,CAGF,iBACE,iBAAA,CACA,SAAA,CACA,WAAA,CACA,YAAA,CACA,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,qCAAA,CAEA,mBACE,iBAAA,CACA,gBAAA,CACA,kBAAA,CACA,aAAA,CAIJ,WACE,YAAA,CACA,oCAAA,CACA,iCAAA,CACA,aAAA,CACA,kDAAA,CAEA,uBACE,YAAA,CACA,WAAA,CACA,wBAAA,CACA,cAAA,CAEA,6BACE,wBAAA",sourcesContent:["body {\r\n  font-family: 'Quicksand', sans-serif !important;\r\n}\r\n\r\n.hidden {\r\n  display: none;\r\n}\r\n\r\nh1 {\r\n  padding-top: 5vh;\r\n  margin-bottom: 5vh;\r\n  text-align: center;\r\n  font-weight: 500;\r\n  font-size: 4rem;\r\n  color: #9dbbf8;\r\n  font-family: 'Quicksand', sans-serif;\r\n}\r\n\r\nh2 {\r\n  font-size: 1.2rem;\r\n}\r\n\r\n.buttons-game {\r\n  margin: 2vh auto;\r\n  display: flex;\r\n  justify-content: space-around;\r\n}\r\n\r\n.button-custom {\r\n  padding: 1.5vh;\r\n  width: 25%;\r\n  border-radius: 8px;\r\n  border: 2px solid #9dbbf8a4;\r\n  color: #6890e0;\r\n  background-color: transparent;\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    color: #ffff;\r\n    border-color: #6890e0;\r\n    background-color: #9dbbf8;\r\n  }\r\n\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n}\r\n\r\n.container {\r\n  width: fit-content;\r\n  height: fit-content;\r\n  margin: auto;\r\n}\r\n\r\n.board {\r\n  width: fit-content;\r\n  height: fit-content;\r\n  margin: auto;\r\n  padding: 5vh;\r\n  display: flex;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  border-radius: 25px;\r\n  background-color: #dfe9fd;\r\n  color: #6890e0;\r\n  box-shadow: 6px 8px 14px 1px #9ca7b9ab;\r\n}\r\n\r\n.game-status {\r\n  margin-bottom: 2vh;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.player-turn {\r\n  margin-bottom: 5vh;\r\n}\r\n\r\n.cover-gameboard {\r\n  position: absolute;\r\n  z-index: 2;\r\n  width: 380px;\r\n  height: 380px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(59, 93, 145, 0.507);\r\n\r\n  p {\r\n    text-align: center;\r\n    font-size: 1.3rem;\r\n    line-height: 1.8rem;\r\n    color: #f7f7f7;\r\n  }\r\n}\r\n\r\n.gameboard {\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  grid-template-rows: repeat(3, 1fr);\r\n  grid-gap: 10px;\r\n  background-image: linear-gradient(#9dbbf8, #b5c5da);\r\n\r\n  .board-cell {\r\n    height: 120px;\r\n    width: 120px;\r\n    background-color: #dfe9fd;\r\n    cursor: pointer;\r\n\r\n    &:hover {\r\n      background-color: #cad9f8;\r\n    }\r\n  }\r\n}\r\n"],sourceRoot:""}]),n.default=o},function(e,n,r){"use strict";r.r(n);r(1);const t=(()=>{let e=!0;const n=Array(2);return{changeTurn:()=>(e=!e,e),restartTurn:()=>(e=!0,e),endGame:e=>!e.some(e=>""===e),addPlayers(e,r){n[0]=e,n[1]=r},getPlayers:()=>n,getTurn:(n,r)=>e?n:r}})(),o=(()=>{const e=Array(9).fill(""),n={1:[0,3,6],2:[1,4,7],3:[2,5,8],4:[0,1,2],5:[3,4,5],6:[6,7,8],7:[0,4,8],8:[2,4,6]};return{changeBoard:(n,r)=>""===e[r]&&(e[r]=n,!0),displayBoard:()=>e,checkWinner(r,t){const o=Object.keys(n);for(let a=0;a<o.length;a+=1)if(n[a+1].every(n=>e[n]===t)){return r.find(e=>e.getPiece()===t)}return!1}}})(),a=(e,n,r=0)=>({getName:()=>e,getPiece:()=>n,getScore:()=>r,updateScore(){r+=1}});var i=r.p+"59de2c7b9c7283cef812a9089d10a822.png",A=r.p+"d67d9cf4d846fa89148e299e8678eb3f.png";const c=()=>{const e=o.displayBoard();e.fill("");const n=document.querySelectorAll(".board-cell");for(let r=0;r<e.length;r+=1)n[r].style.backgroundImage="none"},s=()=>{document.querySelectorAll(".values").forEach(e=>{e.value=""})},d=e=>{for(let n=0;n<2;n+=1)document.getElementsByClassName(`player${n+1}-body`)[0].innerHTML=e[n].getName(),document.getElementsByClassName(`player${n+1}-body`)[1].innerHTML=e[n].getScore()},l=e=>{const n=e.getTurn(...e.getPlayers());document.getElementsByClassName("player-turn-content")[0].innerHTML=n.getName()+" it's your turn"},u=e=>{const n=document.querySelectorAll(".board-cell");for(let r=0;r<e.length;r+=1)"x"===e[r]&&(n[r].style.backgroundImage=`url('${i}')`,n[r].style.backgroundRepeat="no-repeat",n[r].style.backgroundPosition="center"),"o"===e[r]&&(n[r].style.backgroundImage=`url('${A}')`,n[r].style.backgroundRepeat="no-repeat",n[r].style.backgroundPosition="center")};var f,m;document.getElementById("start-button").addEventListener("click",()=>{$(".add-players").modal("show")}),f=t,document.getElementById("restart-button").addEventListener("click",()=>{c(),f.restartTurn(),l(f)}),((e,n)=>{const r=document.querySelectorAll(".board-cell");for(let t=0;t<r.length;t+=1)r[t].addEventListener("click",r=>{const t=n.getPlayers(),o=n.getTurn(...t).getPiece();if(e.changeBoard(o,r.target.id)){u(e.displayBoard()),n.changeTurn(),l(n);const r=e.checkWinner(t,o),a=e.displayBoard().filter(e=>""===e).length;r?(document.getElementsByClassName("winner-content")[0].innerHTML=r.getName()+" has won!",$(".winner").modal("show"),c(),r.updateScore(),d(t),n.restartTurn(),l(n)):a||($(".end-game").modal("show"),c(),n.restartTurn(),l(n))}})})(o,t),document.getElementById("cancelBtn").addEventListener("click",()=>{s(),$(".mini.modal").modal("hide")}),m=t,document.getElementById("submitBtn").addEventListener("click",()=>{const e=document.getElementsByClassName("values");if(e[0].value.toLowerCase()===e[1].value.toLowerCase())e[1].setCustomValidity("The players' names must be different.");else if(e[1].setCustomValidity(""),e[0].checkValidity()&&e[1].checkValidity()){const e=[document.getElementById("player1-name").value,document.getElementById("player2-name").value],n=m.getPlayers(),r=a(e[0],"x"),t=a(e[1],"o");m.addPlayers(r,t),d(n),s(),$(".mini.modal").modal("hide"),document.getElementsByClassName("cover-gameboard")[0].style.visibility="hidden",l(m)}})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3N0eWxlc2hlZXRzL3N0eWxlLnNjc3M/MzU3OSIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9zdHlsZXNoZWV0cy9zdHlsZS5zY3NzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL2xvZ2ljLmpzIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvaW1hZ2VzL3BsYXllcjEucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvaW1hZ2VzL3BsYXllcjIucG5nIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL2RvbS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJ1c2VTb3VyY2VNYXAiLCJsaXN0IiwidG9TdHJpbmciLCJ0aGlzIiwibWFwIiwiaXRlbSIsImNvbnRlbnQiLCJjc3NNYXBwaW5nIiwiYnRvYSIsInNvdXJjZU1hcHBpbmciLCJzb3VyY2VNYXAiLCJiYXNlNjQiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwiY29uY2F0Iiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290Iiwiam9pbiIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJtZWRpYVF1ZXJ5IiwiZGVkdXBlIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImxlbmd0aCIsImlkIiwiX2kiLCJwdXNoIiwiYXBpIiwiZGVmYXVsdCIsIm9wdGlvbnMiLCJsb2NhbHMiLCJtZW1vIiwiaXNPbGRJRSIsIkJvb2xlYW4iLCJ3aW5kb3ciLCJkb2N1bWVudCIsImFsbCIsImF0b2IiLCJnZXRUYXJnZXQiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsInF1ZXJ5U2VsZWN0b3IiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwic3R5bGVzSW5Eb20iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwiY291bnQiLCJpbmRleCIsIm9iaiIsImNzcyIsIm1lZGlhIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJhZGRTdHlsZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiY3JlYXRlRWxlbWVudCIsImF0dHJpYnV0ZXMiLCJub25jZSIsImtleXMiLCJmb3JFYWNoIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwicmVtb3ZlIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwicmVtb3ZlQXR0cmlidXRlIiwiZmlyc3RDaGlsZCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJ1cGRhdGUiLCJzdHlsZUluZGV4IiwicGFyZW50Tm9kZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsIm5ld09iaiIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaW5kZXgiLCJzcGxpY2UiLCJfX19DU1NfTE9BREVSX0VYUE9SVF9fXyIsIkdhbWVNYW5hZ2VyIiwidHVyblgiLCJwbGF5ZXJzTGlzdCIsIkFycmF5IiwiY2hhbmdlVHVybiIsInJlc3RhcnRUdXJuIiwiZW5kR2FtZSIsImdhbWVib2FyZCIsInNvbWUiLCJ4IiwicGxheWVyMSIsInBsYXllcjIiLCJnZXRQbGF5ZXJzIiwiZ2V0VHVybiIsIkdhbWVib2FyZCIsImZpbGwiLCJ3aW5uaW5nQ29tYmluYXRpb25zIiwiMSIsIjIiLCIzIiwiNCIsIjUiLCI2IiwiNyIsIjgiLCJjaGFuZ2VCb2FyZCIsInBpZWNlIiwiZGlzcGxheUJvYXJkIiwid2lubmluZ0siLCJldmVyeSIsImEiLCJmaW5kIiwiZ2V0UGllY2UiLCJQbGF5ZXIiLCJzY29yZSIsImdldE5hbWUiLCJnZXRTY29yZSIsImNsZWFyQm9hcmQiLCJib2FyZCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJjbGVhcklucHV0cyIsImVsZW1lbnQiLCJkaXNwbGF5U3RhdHVzIiwicGxheWVycyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJpbm5lckhUTUwiLCJkaXNwbGF5VHVybiIsImdhbWUiLCJwbGF5ZXIiLCJyZW5kZXIiLCJiYWNrZ3JvdW5kUmVwZWF0IiwiYmFja2dyb3VuZFBvc2l0aW9uIiwiZ2FtZW1hbmFnZXIiLCJnZXRFbGVtZW50QnlJZCIsImFkZEV2ZW50TGlzdGVuZXIiLCIkIiwibW9kYWwiLCJidG4iLCJ3aW5uZXIiLCJjaGVja1dpbm5lciIsInR1cm5zTGVmdCIsInVwZGF0ZVNjb3JlIiwiYWRkUGxhY2VNb3ZlIiwiaW5wdXRWYWx1ZXMiLCJ0b0xvd2VyQ2FzZSIsInNldEN1c3RvbVZhbGlkaXR5IiwiY2hlY2tWYWxpZGl0eSIsIm5hbWVzIiwiZmlyc3QiLCJzZWNvbmQiLCJhZGRQbGF5ZXJzIiwidmlzaWJpbGl0eSJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVBQVBFLEdBQThCLGlCQUFWRixHQUFzQkEsR0FBU0EsRUFBTUcsV0FBWSxPQUFPSCxFQUNoRixJQUFJSSxFQUFLWCxPQUFPWSxPQUFPLE1BR3ZC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VSxDQUFhakQsRUFBV2QsR0RzR1ZuRSxTQUFTeUgsZUFBZSxhQUNoQ0MsaUJBQWlCLFFBQVMsS0FDNUJkLElBRUFlLEVBQUUsZUFBZUMsTUFBTSxVQUlMVCxFQzVHVGhELEVENkdDbkUsU0FBU3lILGVBQWUsYUFDaENDLGlCQUFpQixRQUFTLEtBQzVCLE1BQU1TLEVBQWNuSSxTQUFTZ0gsdUJBQXVCLFVBQ3BELEdBQUltQixFQUFZLEdBQUd6TCxNQUFNMEwsZ0JBQWtCRCxFQUFZLEdBQUd6TCxNQUFNMEwsY0FDOURELEVBQVksR0FBR0Usa0JBQWtCLDhDQUdqQyxHQURBRixFQUFZLEdBQUdFLGtCQUFrQixJQUM3QkYsRUFBWSxHQUFHRyxpQkFBbUJILEVBQVksR0FBR0csZ0JBQWlCLENBQ3BFLE1BQU1DLEVBeEdMLENBRmN2SSxTQUFTeUgsZUFBZSxnQkFBZ0IvSyxNQUN4Q3NELFNBQVN5SCxlQUFlLGdCQUFnQi9LLE9BMEdqRHFLLEVBQVVJLEVBQUtwQyxhQUNmeUQsRUFBUXBDLEVBQU9tQyxFQUFNLEdBQUksS0FDekJFLEVBQVNyQyxFQUFPbUMsRUFBTSxHQUFJLEtBQ2hDcEIsRUFBS3VCLFdBQVdGLEVBQU9DLEdBQ3ZCM0IsRUFBY0MsR0FDZEgsSUFFQWUsRUFBRSxlQUFlQyxNQUFNLFFBQ3ZCNUgsU0FBU2dILHVCQUF1QixtQkFBbUIsR0FBR3BGLE1BQU0rRyxXQUFhLFNBQ3pFekIsRUFBWUMiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDQpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVzZVNvdXJjZU1hcCkge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIHJldHVybiBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoY29udGVudCwgXCJ9XCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKCcnKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIChtb2R1bGVzLCBtZWRpYVF1ZXJ5LCBkZWR1cGUpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsICcnXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcbiAgICAgICAgdmFyIGlkID0gdGhpc1tpXVswXTtcblxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBtb2R1bGVzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfaV0pO1xuXG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRpbnVlXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAobWVkaWFRdWVyeSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWFRdWVyeTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzJdID0gXCJcIi5jb25jYXQobWVkaWFRdWVyeSwgXCIgYW5kIFwiKS5jb25jYXQoaXRlbVsyXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJzsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG5cbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgaWYgKHVzZVNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gdG9Db21tZW50KGNzc01hcHBpbmcpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgJycpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuICB9XG5cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn0gLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuXG5cbmZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpO1xuICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gIHJldHVybiBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG59IiwidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5zY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscyB8fCB7fTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbnZhciBzdHlsZXNJbkRvbSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRG9tW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB2YXIgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcblxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLm1lZGlhID8gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKS5jb25jYXQob2JqLmNzcywgXCJ9XCIpIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoJ21lZGlhJyk7XG4gIH1cblxuICBpZiAoc291cmNlTWFwICYmIGJ0b2EpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyIHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlO1xuICB2YXIgdXBkYXRlO1xuICB2YXIgcmVtb3ZlO1xuXG4gIGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuICAgIHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuICAgIHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuICAgIHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUgPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblxuICAgIHJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG4gICAgfTtcbiAgfVxuXG4gIHVwZGF0ZShvYmopO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmUoKTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307IC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuICAvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cbiAgaWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09ICdib29sZWFuJykge1xuICAgIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuICB9XG5cbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXdMaXN0KSAhPT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRvbVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5Eb21bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5Eb20uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18odHJ1ZSk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCJib2R5e2ZvbnQtZmFtaWx5OlxcXCJRdWlja3NhbmRcXFwiLHNhbnMtc2VyaWYgIWltcG9ydGFudH0uaGlkZGVue2Rpc3BsYXk6bm9uZX1oMXtwYWRkaW5nLXRvcDo1dmg7bWFyZ2luLWJvdHRvbTo1dmg7dGV4dC1hbGlnbjpjZW50ZXI7Zm9udC13ZWlnaHQ6NTAwO2ZvbnQtc2l6ZTo0cmVtO2NvbG9yOiM5ZGJiZjg7Zm9udC1mYW1pbHk6XFxcIlF1aWNrc2FuZFxcXCIsc2Fucy1zZXJpZn1oMntmb250LXNpemU6MS4ycmVtfS5idXR0b25zLWdhbWV7bWFyZ2luOjJ2aCBhdXRvO2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYXJvdW5kfS5idXR0b24tY3VzdG9te3BhZGRpbmc6MS41dmg7d2lkdGg6MjUlO2JvcmRlci1yYWRpdXM6OHB4O2JvcmRlcjoycHggc29saWQgIzlkYmJmOGE0O2NvbG9yOiM2ODkwZTA7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtjdXJzb3I6cG9pbnRlcn0uYnV0dG9uLWN1c3RvbTpob3Zlcntjb2xvcjojZmZmO2JvcmRlci1jb2xvcjojNjg5MGUwO2JhY2tncm91bmQtY29sb3I6IzlkYmJmOH0uYnV0dG9uLWN1c3RvbTpmb2N1c3tvdXRsaW5lOm5vbmV9LmNvbnRhaW5lcnt3aWR0aDpmaXQtY29udGVudDtoZWlnaHQ6Zml0LWNvbnRlbnQ7bWFyZ2luOmF1dG99LmJvYXJke3dpZHRoOmZpdC1jb250ZW50O2hlaWdodDpmaXQtY29udGVudDttYXJnaW46YXV0bztwYWRkaW5nOjV2aDtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtib3JkZXItcmFkaXVzOjI1cHg7YmFja2dyb3VuZC1jb2xvcjojZGZlOWZkO2NvbG9yOiM2ODkwZTA7Ym94LXNoYWRvdzo2cHggOHB4IDE0cHggMXB4ICM5Y2E3YjlhYn0uZ2FtZS1zdGF0dXN7bWFyZ2luLWJvdHRvbToydmg7d2lkdGg6MTAwJTtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW59LnBsYXllci10dXJue21hcmdpbi1ib3R0b206NXZofS5jb3Zlci1nYW1lYm9hcmR7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoyO3dpZHRoOjM4MHB4O2hlaWdodDozODBweDtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDU5LDkzLDE0NSwuNTA3KX0uY292ZXItZ2FtZWJvYXJkIHB7dGV4dC1hbGlnbjpjZW50ZXI7Zm9udC1zaXplOjEuM3JlbTtsaW5lLWhlaWdodDoxLjhyZW07Y29sb3I6I2Y3ZjdmN30uZ2FtZWJvYXJke2Rpc3BsYXk6Z3JpZDtncmlkLXRlbXBsYXRlLWNvbHVtbnM6cmVwZWF0KDMsIDFmcik7Z3JpZC10ZW1wbGF0ZS1yb3dzOnJlcGVhdCgzLCAxZnIpO2dyaWQtZ2FwOjEwcHg7YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQoIzlkYmJmOCwgI2I1YzVkYSl9LmdhbWVib2FyZCAuYm9hcmQtY2VsbHtoZWlnaHQ6MTIwcHg7d2lkdGg6MTIwcHg7YmFja2dyb3VuZC1jb2xvcjojZGZlOWZkO2N1cnNvcjpwb2ludGVyfS5nYW1lYm9hcmQgLmJvYXJkLWNlbGw6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojY2FkOWY4fVwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly9zcmMvYXNzZXRzL3N0eWxlc2hlZXRzL3N0eWxlLnNjc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUEsS0FDRSw2Q0FBQSxDQUdGLFFBQ0UsWUFBQSxDQUdGLEdBQ0UsZUFBQSxDQUNBLGlCQUFBLENBQ0EsaUJBQUEsQ0FDQSxlQUFBLENBQ0EsY0FBQSxDQUNBLGFBQUEsQ0FDQSxrQ0FBQSxDQUdGLEdBQ0UsZ0JBQUEsQ0FHRixjQUNFLGVBQUEsQ0FDQSxZQUFBLENBQ0EsNEJBQUEsQ0FHRixlQUNFLGFBQUEsQ0FDQSxTQUFBLENBQ0EsaUJBQUEsQ0FDQSwwQkFBQSxDQUNBLGFBQUEsQ0FDQSw0QkFBQSxDQUNBLGNBQUEsQ0FFQSxxQkFDRSxVQUFBLENBQ0Esb0JBQUEsQ0FDQSx3QkFBQSxDQUdGLHFCQUNFLFlBQUEsQ0FJSixXQUNFLGlCQUFBLENBQ0Esa0JBQUEsQ0FDQSxXQUFBLENBR0YsT0FDRSxpQkFBQSxDQUNBLGtCQUFBLENBQ0EsV0FBQSxDQUNBLFdBQUEsQ0FDQSxZQUFBLENBQ0Esa0JBQUEsQ0FDQSxxQkFBQSxDQUNBLGtCQUFBLENBQ0Esd0JBQUEsQ0FDQSxhQUFBLENBQ0EscUNBQUEsQ0FHRixhQUNFLGlCQUFBLENBQ0EsVUFBQSxDQUNBLFlBQUEsQ0FDQSw2QkFBQSxDQUdGLGFBQ0UsaUJBQUEsQ0FHRixpQkFDRSxpQkFBQSxDQUNBLFNBQUEsQ0FDQSxXQUFBLENBQ0EsWUFBQSxDQUNBLFlBQUEsQ0FDQSxzQkFBQSxDQUNBLGtCQUFBLENBQ0EscUNBQUEsQ0FFQSxtQkFDRSxpQkFBQSxDQUNBLGdCQUFBLENBQ0Esa0JBQUEsQ0FDQSxhQUFBLENBSUosV0FDRSxZQUFBLENBQ0Esb0NBQUEsQ0FDQSxpQ0FBQSxDQUNBLGFBQUEsQ0FDQSxrREFBQSxDQUVBLHVCQUNFLFlBQUEsQ0FDQSxXQUFBLENBQ0Esd0JBQUEsQ0FDQSxjQUFBLENBRUEsNkJBQ0Usd0JBQUFcIixcInNvdXJjZXNDb250ZW50XCI6W1wiYm9keSB7XFxyXFxuICBmb250LWZhbWlseTogJ1F1aWNrc2FuZCcsIHNhbnMtc2VyaWYgIWltcG9ydGFudDtcXHJcXG59XFxyXFxuXFxyXFxuLmhpZGRlbiB7XFxyXFxuICBkaXNwbGF5OiBub25lO1xcclxcbn1cXHJcXG5cXHJcXG5oMSB7XFxyXFxuICBwYWRkaW5nLXRvcDogNXZoO1xcclxcbiAgbWFyZ2luLWJvdHRvbTogNXZoO1xcclxcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcclxcbiAgZm9udC13ZWlnaHQ6IDUwMDtcXHJcXG4gIGZvbnQtc2l6ZTogNHJlbTtcXHJcXG4gIGNvbG9yOiAjOWRiYmY4O1xcclxcbiAgZm9udC1mYW1pbHk6ICdRdWlja3NhbmQnLCBzYW5zLXNlcmlmO1xcclxcbn1cXHJcXG5cXHJcXG5oMiB7XFxyXFxuICBmb250LXNpemU6IDEuMnJlbTtcXHJcXG59XFxyXFxuXFxyXFxuLmJ1dHRvbnMtZ2FtZSB7XFxyXFxuICBtYXJnaW46IDJ2aCBhdXRvO1xcclxcbiAgZGlzcGxheTogZmxleDtcXHJcXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xcclxcbn1cXHJcXG5cXHJcXG4uYnV0dG9uLWN1c3RvbSB7XFxyXFxuICBwYWRkaW5nOiAxLjV2aDtcXHJcXG4gIHdpZHRoOiAyNSU7XFxyXFxuICBib3JkZXItcmFkaXVzOiA4cHg7XFxyXFxuICBib3JkZXI6IDJweCBzb2xpZCAjOWRiYmY4YTQ7XFxyXFxuICBjb2xvcjogIzY4OTBlMDtcXHJcXG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xcclxcbiAgY3Vyc29yOiBwb2ludGVyO1xcclxcblxcclxcbiAgJjpob3ZlciB7XFxyXFxuICAgIGNvbG9yOiAjZmZmZjtcXHJcXG4gICAgYm9yZGVyLWNvbG9yOiAjNjg5MGUwO1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjOWRiYmY4O1xcclxcbiAgfVxcclxcblxcclxcbiAgJjpmb2N1cyB7XFxyXFxuICAgIG91dGxpbmU6IG5vbmU7XFxyXFxuICB9XFxyXFxufVxcclxcblxcclxcbi5jb250YWluZXIge1xcclxcbiAgd2lkdGg6IGZpdC1jb250ZW50O1xcclxcbiAgaGVpZ2h0OiBmaXQtY29udGVudDtcXHJcXG4gIG1hcmdpbjogYXV0bztcXHJcXG59XFxyXFxuXFxyXFxuLmJvYXJkIHtcXHJcXG4gIHdpZHRoOiBmaXQtY29udGVudDtcXHJcXG4gIGhlaWdodDogZml0LWNvbnRlbnQ7XFxyXFxuICBtYXJnaW46IGF1dG87XFxyXFxuICBwYWRkaW5nOiA1dmg7XFxyXFxuICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxyXFxuICBib3JkZXItcmFkaXVzOiAyNXB4O1xcclxcbiAgYmFja2dyb3VuZC1jb2xvcjogI2RmZTlmZDtcXHJcXG4gIGNvbG9yOiAjNjg5MGUwO1xcclxcbiAgYm94LXNoYWRvdzogNnB4IDhweCAxNHB4IDFweCAjOWNhN2I5YWI7XFxyXFxufVxcclxcblxcclxcbi5nYW1lLXN0YXR1cyB7XFxyXFxuICBtYXJnaW4tYm90dG9tOiAydmg7XFxyXFxuICB3aWR0aDogMTAwJTtcXHJcXG4gIGRpc3BsYXk6IGZsZXg7XFxyXFxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XFxyXFxufVxcclxcblxcclxcbi5wbGF5ZXItdHVybiB7XFxyXFxuICBtYXJnaW4tYm90dG9tOiA1dmg7XFxyXFxufVxcclxcblxcclxcbi5jb3Zlci1nYW1lYm9hcmQge1xcclxcbiAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgei1pbmRleDogMjtcXHJcXG4gIHdpZHRoOiAzODBweDtcXHJcXG4gIGhlaWdodDogMzgwcHg7XFxyXFxuICBkaXNwbGF5OiBmbGV4O1xcclxcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxyXFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcclxcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSg1OSwgOTMsIDE0NSwgMC41MDcpO1xcclxcblxcclxcbiAgcCB7XFxyXFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG4gICAgZm9udC1zaXplOiAxLjNyZW07XFxyXFxuICAgIGxpbmUtaGVpZ2h0OiAxLjhyZW07XFxyXFxuICAgIGNvbG9yOiAjZjdmN2Y3O1xcclxcbiAgfVxcclxcbn1cXHJcXG5cXHJcXG4uZ2FtZWJvYXJkIHtcXHJcXG4gIGRpc3BsYXk6IGdyaWQ7XFxyXFxuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgzLCAxZnIpO1xcclxcbiAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiByZXBlYXQoMywgMWZyKTtcXHJcXG4gIGdyaWQtZ2FwOiAxMHB4O1xcclxcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KCM5ZGJiZjgsICNiNWM1ZGEpO1xcclxcblxcclxcbiAgLmJvYXJkLWNlbGwge1xcclxcbiAgICBoZWlnaHQ6IDEyMHB4O1xcclxcbiAgICB3aWR0aDogMTIwcHg7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNkZmU5ZmQ7XFxyXFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXHJcXG5cXHJcXG4gICAgJjpob3ZlciB7XFxyXFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2NhZDlmODtcXHJcXG4gICAgfVxcclxcbiAgfVxcclxcbn1cXHJcXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiY29uc3QgR2FtZU1hbmFnZXIgPSAoKCkgPT4ge1xuICBsZXQgdHVyblggPSB0cnVlO1xuICBjb25zdCBwbGF5ZXJzTGlzdCA9IEFycmF5KDIpO1xuICByZXR1cm4ge1xuICAgIGNoYW5nZVR1cm4oKSB7XG4gICAgICB0dXJuWCA9ICF0dXJuWDtcbiAgICAgIHJldHVybiB0dXJuWDtcbiAgICB9LFxuICAgIHJlc3RhcnRUdXJuKCkge1xuICAgICAgdHVyblggPSB0cnVlO1xuICAgICAgcmV0dXJuIHR1cm5YO1xuICAgIH0sXG4gICAgZW5kR2FtZShnYW1lYm9hcmQpIHtcbiAgICAgIGNvbnN0IGNoZWNrZWQgPSAhZ2FtZWJvYXJkLnNvbWUoeCA9PiB4ID09PSAnJyk7XG4gICAgICByZXR1cm4gY2hlY2tlZDtcbiAgICB9LFxuICAgIGFkZFBsYXllcnMocGxheWVyMSwgcGxheWVyMikge1xuICAgICAgcGxheWVyc0xpc3RbMF0gPSBwbGF5ZXIxO1xuICAgICAgcGxheWVyc0xpc3RbMV0gPSBwbGF5ZXIyO1xuICAgIH0sXG4gICAgZ2V0UGxheWVycygpIHtcbiAgICAgIHJldHVybiBwbGF5ZXJzTGlzdDtcbiAgICB9LFxuICAgIGdldFR1cm4ocGxheWVyMSwgcGxheWVyMikge1xuICAgICAgcmV0dXJuIHR1cm5YID8gcGxheWVyMSA6IHBsYXllcjI7XG4gICAgfSxcbiAgfTtcbn0pKCk7XG5cbmNvbnN0IEdhbWVib2FyZCA9ICgoKSA9PiB7XG4gIGNvbnN0IGdhbWVib2FyZCA9IEFycmF5KDkpLmZpbGwoJycpO1xuICBjb25zdCB3aW5uaW5nQ29tYmluYXRpb25zID0ge1xuICAgIDE6IFswLCAzLCA2XSxcbiAgICAyOiBbMSwgNCwgN10sXG4gICAgMzogWzIsIDUsIDhdLFxuICAgIDQ6IFswLCAxLCAyXSxcbiAgICA1OiBbMywgNCwgNV0sXG4gICAgNjogWzYsIDcsIDhdLFxuICAgIDc6IFswLCA0LCA4XSxcbiAgICA4OiBbMiwgNCwgNl0sXG4gIH07XG4gIHJldHVybiB7XG4gICAgY2hhbmdlQm9hcmQocGllY2UsIGluZGV4KSB7XG4gICAgICBpZiAoZ2FtZWJvYXJkW2luZGV4XSA9PT0gJycpIHtcbiAgICAgICAgZ2FtZWJvYXJkW2luZGV4XSA9IHBpZWNlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICAgIGRpc3BsYXlCb2FyZCgpIHtcbiAgICAgIHJldHVybiBnYW1lYm9hcmQ7XG4gICAgfSxcbiAgICBjaGVja1dpbm5lcihwbGF5ZXJzTGlzdCwgcGllY2UpIHtcbiAgICAgIGNvbnN0IHdpbm5pbmdLID0gT2JqZWN0LmtleXMod2lubmluZ0NvbWJpbmF0aW9ucyk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdpbm5pbmdLLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmICh3aW5uaW5nQ29tYmluYXRpb25zW2kgKyAxXS5ldmVyeShhID0+IGdhbWVib2FyZFthXSA9PT0gcGllY2UpKSB7XG4gICAgICAgICAgY29uc3Qgd2lubmVyID0gcGxheWVyc0xpc3QuZmluZCh4ID0+IHguZ2V0UGllY2UoKSA9PT0gcGllY2UpO1xuICAgICAgICAgIHJldHVybiB3aW5uZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICB9O1xufSkoKTtcblxuY29uc3QgUGxheWVyID0gKG5hbWUsIHBpZWNlLCBzY29yZSA9IDApID0+IHtcbiAgY29uc3QgZ2V0TmFtZSA9ICgpID0+IG5hbWU7XG4gIGNvbnN0IGdldFBpZWNlID0gKCkgPT4gcGllY2U7XG4gIGNvbnN0IGdldFNjb3JlID0gKCkgPT4gc2NvcmU7XG4gIHJldHVybiB7XG4gICAgZ2V0TmFtZSxcbiAgICBnZXRQaWVjZSxcbiAgICBnZXRTY29yZSxcbiAgICB1cGRhdGVTY29yZSgpIHtcbiAgICAgIHNjb3JlICs9IDE7XG4gICAgfSxcbiAgfTtcbn07XG5cbmV4cG9ydCB7XG4gIEdhbWVNYW5hZ2VyLCBHYW1lYm9hcmQsIFBsYXllcixcbn07IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjU5ZGUyYzdiOWM3MjgzY2VmODEyYTkwODlkMTBhODIyLnBuZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJkNjdkOWNmNGQ4NDZmYTg5MTQ4ZTI5OWU4Njc4ZWIzZi5wbmdcIjsiLCJpbXBvcnQgeyBHYW1lYm9hcmQsIFBsYXllciB9IGZyb20gJy4vbG9naWMnO1xuaW1wb3J0IHBsYXllck9uZUltZyBmcm9tICcuLi9hc3NldHMvaW1hZ2VzL3BsYXllcjEucG5nJztcbmltcG9ydCBwbGF5ZXJUd29JbWcgZnJvbSAnLi4vYXNzZXRzL2ltYWdlcy9wbGF5ZXIyLnBuZyc7XG5cbmNvbnN0IGNsZWFyQm9hcmQgPSAoKSA9PiB7XG4gIGNvbnN0IGdhbWVib2FyZCA9IEdhbWVib2FyZC5kaXNwbGF5Qm9hcmQoKTtcbiAgZ2FtZWJvYXJkLmZpbGwoJycpO1xuICBjb25zdCBib2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5ib2FyZC1jZWxsJyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZ2FtZWJvYXJkLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgYm9hcmRbaV0uc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJ25vbmUnO1xuICB9XG59O1xuXG5jb25zdCBjbGVhcklucHV0cyA9ICgpID0+IHtcbiAgY29uc3QgdGV4dFZhbHVlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy52YWx1ZXMnKTtcbiAgdGV4dFZhbHVlcy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgIGVsZW1lbnQudmFsdWUgPSAnJztcbiAgfSk7XG59O1xuXG5jb25zdCBnZXRJbnB1dE5hbWVzID0gKCkgPT4ge1xuICBjb25zdCBwbGF5ZXIxSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheWVyMS1uYW1lJykudmFsdWU7XG4gIGNvbnN0IHBsYXllcjJJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwbGF5ZXIyLW5hbWUnKS52YWx1ZTtcbiAgcmV0dXJuIFtwbGF5ZXIxSW5wdXQsIHBsYXllcjJJbnB1dF07XG59O1xuXG5jb25zdCBkaXNwbGF5U3RhdHVzID0gKHBsYXllcnMpID0+IHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAyOyBpICs9IDEpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGBwbGF5ZXIke2kgKyAxfS1ib2R5YClbMF0uaW5uZXJIVE1MID0gcGxheWVyc1tpXS5nZXROYW1lKCk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShgcGxheWVyJHtpICsgMX0tYm9keWApWzFdLmlubmVySFRNTCA9IHBsYXllcnNbaV0uZ2V0U2NvcmUoKTtcbiAgfVxufTtcblxuY29uc3QgZGlzcGxheVR1cm4gPSAoZ2FtZSkgPT4ge1xuICBjb25zdCBwbGF5ZXIgPSBnYW1lLmdldFR1cm4oLi4uZ2FtZS5nZXRQbGF5ZXJzKCkpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdwbGF5ZXItdHVybi1jb250ZW50JylbMF0uaW5uZXJIVE1MID0gYCR7cGxheWVyLmdldE5hbWUoKX0gaXQncyB5b3VyIHR1cm5gO1xufTtcblxuY29uc3QgcmVuZGVyID0gKGdhbWVib2FyZCkgPT4ge1xuICBjb25zdCBib2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5ib2FyZC1jZWxsJyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZ2FtZWJvYXJkLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgaWYgKGdhbWVib2FyZFtpXSA9PT0gJ3gnKSB7XG4gICAgICBib2FyZFtpXS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCcke3BsYXllck9uZUltZ30nKWA7XG4gICAgICBib2FyZFtpXS5zdHlsZS5iYWNrZ3JvdW5kUmVwZWF0ID0gJ25vLXJlcGVhdCc7XG4gICAgICBib2FyZFtpXS5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb24gPSAnY2VudGVyJztcbiAgICB9XG4gICAgaWYgKGdhbWVib2FyZFtpXSA9PT0gJ28nKSB7XG4gICAgICBib2FyZFtpXS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCcke3BsYXllclR3b0ltZ30nKWA7XG4gICAgICBib2FyZFtpXS5zdHlsZS5iYWNrZ3JvdW5kUmVwZWF0ID0gJ25vLXJlcGVhdCc7XG4gICAgICBib2FyZFtpXS5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb24gPSAnY2VudGVyJztcbiAgICB9XG4gIH1cbn07XG5cbmNvbnN0IGFkZEJ1dHRvblN0YXJ0ID0gKCkgPT4ge1xuICBjb25zdCBidG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnQtYnV0dG9uJyk7XG4gIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAkKCcuYWRkLXBsYXllcnMnKS5tb2RhbCgnc2hvdycpO1xuICB9KTtcbn07XG5cbmNvbnN0IGFkZEJ1dHRvblJlc3RhcnQgPSAoZ2FtZW1hbmFnZXIpID0+IHtcbiAgY29uc3QgYnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3RhcnQtYnV0dG9uJyk7XG4gIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjbGVhckJvYXJkKCk7XG4gICAgZ2FtZW1hbmFnZXIucmVzdGFydFR1cm4oKTtcbiAgICBkaXNwbGF5VHVybihnYW1lbWFuYWdlcik7XG4gIH0pO1xufTtcblxuY29uc3QgYWRkUGxhY2VNb3ZlID0gKGdhbWVib2FyZCwgZ2FtZW1hbmFnZXIpID0+IHtcbiAgY29uc3QgYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJvYXJkLWNlbGwnKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBidG4ubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbG9vcC1mdW5jXG4gICAgYnRuW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IHBsYXllcnMgPSBnYW1lbWFuYWdlci5nZXRQbGF5ZXJzKCk7XG4gICAgICBjb25zdCBwaWVjZSA9IGdhbWVtYW5hZ2VyLmdldFR1cm4oLi4ucGxheWVycykuZ2V0UGllY2UoKTtcbiAgICAgIGNvbnN0IGNoYW5nZSA9IGdhbWVib2FyZC5jaGFuZ2VCb2FyZChwaWVjZSwgZS50YXJnZXQuaWQpO1xuICAgICAgaWYgKGNoYW5nZSkge1xuICAgICAgICByZW5kZXIoZ2FtZWJvYXJkLmRpc3BsYXlCb2FyZCgpKTtcbiAgICAgICAgZ2FtZW1hbmFnZXIuY2hhbmdlVHVybigpO1xuICAgICAgICBkaXNwbGF5VHVybihnYW1lbWFuYWdlcik7XG4gICAgICAgIGNvbnN0IHdpbm5lciA9IGdhbWVib2FyZC5jaGVja1dpbm5lcihwbGF5ZXJzLCBwaWVjZSk7XG4gICAgICAgIGNvbnN0IHR1cm5zTGVmdCA9IGdhbWVib2FyZC5kaXNwbGF5Qm9hcmQoKS5maWx0ZXIoeCA9PiB4ID09PSAnJykubGVuZ3RoO1xuICAgICAgICBpZiAod2lubmVyKSB7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnd2lubmVyLWNvbnRlbnQnKVswXS5pbm5lckhUTUwgPSBgJHt3aW5uZXIuZ2V0TmFtZSgpfSBoYXMgd29uIWA7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICAgICAgJCgnLndpbm5lcicpLm1vZGFsKCdzaG93Jyk7XG4gICAgICAgICAgY2xlYXJCb2FyZCgpO1xuICAgICAgICAgIHdpbm5lci51cGRhdGVTY29yZSgpO1xuICAgICAgICAgIGRpc3BsYXlTdGF0dXMocGxheWVycyk7XG4gICAgICAgICAgZ2FtZW1hbmFnZXIucmVzdGFydFR1cm4oKTtcbiAgICAgICAgICBkaXNwbGF5VHVybihnYW1lbWFuYWdlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWxvbmVseS1pZlxuICAgICAgICAgIGlmICghdHVybnNMZWZ0KSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgICAgICAgICQoJy5lbmQtZ2FtZScpLm1vZGFsKCdzaG93Jyk7XG4gICAgICAgICAgICBjbGVhckJvYXJkKCk7XG4gICAgICAgICAgICBnYW1lbWFuYWdlci5yZXN0YXJ0VHVybigpO1xuICAgICAgICAgICAgZGlzcGxheVR1cm4oZ2FtZW1hbmFnZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xuXG5jb25zdCBjYW5jZWxCdXR0b24gPSAoKSA9PiB7XG4gIGNvbnN0IGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW5jZWxCdG4nKTtcbiAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNsZWFySW5wdXRzKCk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgJCgnLm1pbmkubW9kYWwnKS5tb2RhbCgnaGlkZScpO1xuICB9KTtcbn07XG5cbmNvbnN0IHN1Ym1pdEJ1dHRvbiA9IChnYW1lKSA9PiB7XG4gIGNvbnN0IGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJtaXRCdG4nKTtcbiAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNvbnN0IGlucHV0VmFsdWVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndmFsdWVzJyk7XG4gICAgaWYgKGlucHV0VmFsdWVzWzBdLnZhbHVlLnRvTG93ZXJDYXNlKCkgPT09IGlucHV0VmFsdWVzWzFdLnZhbHVlLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIGlucHV0VmFsdWVzWzFdLnNldEN1c3RvbVZhbGlkaXR5KCdUaGUgcGxheWVyc1xcJyBuYW1lcyBtdXN0IGJlIGRpZmZlcmVudC4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5wdXRWYWx1ZXNbMV0uc2V0Q3VzdG9tVmFsaWRpdHkoJycpO1xuICAgICAgaWYgKGlucHV0VmFsdWVzWzBdLmNoZWNrVmFsaWRpdHkoKSAmJiBpbnB1dFZhbHVlc1sxXS5jaGVja1ZhbGlkaXR5KCkpIHtcbiAgICAgICAgY29uc3QgbmFtZXMgPSBnZXRJbnB1dE5hbWVzKCk7XG4gICAgICAgIGNvbnN0IHBsYXllcnMgPSBnYW1lLmdldFBsYXllcnMoKTtcbiAgICAgICAgY29uc3QgZmlyc3QgPSBQbGF5ZXIobmFtZXNbMF0sICd4Jyk7XG4gICAgICAgIGNvbnN0IHNlY29uZCA9IFBsYXllcihuYW1lc1sxXSwgJ28nKTtcbiAgICAgICAgZ2FtZS5hZGRQbGF5ZXJzKGZpcnN0LCBzZWNvbmQpO1xuICAgICAgICBkaXNwbGF5U3RhdHVzKHBsYXllcnMpO1xuICAgICAgICBjbGVhcklucHV0cygpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgICAgJCgnLm1pbmkubW9kYWwnKS5tb2RhbCgnaGlkZScpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjb3Zlci1nYW1lYm9hcmQnKVswXS5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgICAgIGRpc3BsYXlUdXJuKGdhbWUpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59O1xuXG5leHBvcnQge1xuICBhZGRCdXR0b25TdGFydCwgYWRkQnV0dG9uUmVzdGFydCwgYWRkUGxhY2VNb3ZlLCBjYW5jZWxCdXR0b24sIHN1Ym1pdEJ1dHRvbixcbn07IiwiaW1wb3J0ICcuL2Fzc2V0cy9zdHlsZXNoZWV0cy9zdHlsZS5zY3NzJztcbmltcG9ydCB7IEdhbWVNYW5hZ2VyLCBHYW1lYm9hcmQgfSBmcm9tICcuL21vZHVsZXMvbG9naWMnO1xuaW1wb3J0IHtcbiAgYWRkQnV0dG9uU3RhcnQsIGFkZEJ1dHRvblJlc3RhcnQsIGFkZFBsYWNlTW92ZSwgY2FuY2VsQnV0dG9uLCBzdWJtaXRCdXR0b24sXG59IGZyb20gJy4vbW9kdWxlcy9kb20nO1xuXG5hZGRCdXR0b25TdGFydCgpO1xuYWRkQnV0dG9uUmVzdGFydChHYW1lTWFuYWdlcik7XG5hZGRQbGFjZU1vdmUoR2FtZWJvYXJkLCBHYW1lTWFuYWdlcik7XG5jYW5jZWxCdXR0b24oKTtcbnN1Ym1pdEJ1dHRvbihHYW1lTWFuYWdlcik7Il0sInNvdXJjZVJvb3QiOiIifQ==